---
import { isRTL } from '../i18n/utils';

interface Props {
	title: string;
	description?: string;
}

const { title, description = "Secure your future with BTC Retirement DAO. Our decentralized pension fund offer tax-optimized Bitcoin savings with automatic stop-loss protection and time-lock custody." } = Astro.props;

// Get language from Astro.locals
const lang = Astro.locals.lang || 'en';
const dir = isRTL(lang) ? 'rtl' : 'ltr';
---

<!doctype html>
<html lang={lang} dir={dir} class="scroll-smooth">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content={description} />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<!-- Import global styles -->
		<link rel="stylesheet" href="/styles/global.css" />
		<title>{title}</title>
	</head>
	<body class="bg-white text-gray-900 antialiased">
		<!-- Grid background pattern -->
		<div class="fixed inset-0 bg-grid-pattern opacity-[0.03] pointer-events-none"></div>
		<slot />
	</body>
</html>

<style is:global>
	/* Import Google Fonts - Inter is similar to ENS.domains font */
	@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto+Mono:wght@300;400;500&display=swap');

	:root {
		/* Brand colors */
		--color-purple: rgb(108, 51, 255);
		--color-blue: rgb(51, 209, 255);
		--color-mint: rgb(74, 222, 128);
		
		/* Gradients */
		--gradient-brand: linear-gradient(120deg, var(--color-purple) 0%, var(--color-blue) 100%);
		--gradient-brand-vertical: linear-gradient(to bottom, var(--color-purple) 0%, var(--color-blue) 100%);
		
		/* Typography */
		--font-family-base: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
		--font-family-mono: 'Roboto Mono', monospace;
	}
	
	html {
		font-family: var(--font-family-base);
		scroll-behavior: smooth;
	}
	
	body {
		margin: 0;
		padding: 0;
		min-height: 100vh;
		overflow-x: hidden;
		font-family: var(--font-family-base);
		line-height: 1.6;
	}

	h1, h2, h3, h4, h5, h6 {
		font-weight: 300;
		line-height: 1.2;
	}

	/* Text gradient utility class */
	.text-gradient {
		background: var(--gradient-brand);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
		color: transparent;
	}

	/* Technical class for monospace text */
	.font-mono {
		font-family: var(--font-family-mono);
	}

	/* Technical/Academic grid background */
	.bg-grid-pattern {
		background-size: 50px 50px;
		background-image: 
			linear-gradient(to right, rgba(107, 114, 128, 0.05) 1px, transparent 1px),
			linear-gradient(to bottom, rgba(107, 114, 128, 0.05) 1px, transparent 1px);
	}

	/* Blob animations */
	@keyframes blob-float {
		0%   { transform: translate(0, 0) scale(1); }
		50%  { transform: translate(10px, -10px) scale(1.05); }
		100% { transform: translate(0, 0) scale(1); }
	}
	
	.blob-animation {
		animation: blob-float 12s ease-in-out infinite;
	}
	
	.blob-animation-delay {
		animation: blob-float 12s ease-in-out 2s infinite;
	}

	/* RTL specific adjustments */
	html[dir="rtl"] {
		text-align: right;
	}

	html[dir="rtl"] .ml-1, 
	html[dir="rtl"] .ml-2, 
	html[dir="rtl"] .ml-3, 
	html[dir="rtl"] .ml-4 {
		margin-left: 0 !important;
		margin-right: 0.25rem !important;
		margin-right: 0.5rem !important;
		margin-right: 0.75rem !important;
		margin-right: 1rem !important;
	}

	html[dir="rtl"] .mr-1, 
	html[dir="rtl"] .mr-2, 
	html[dir="rtl"] .mr-3, 
	html[dir="rtl"] .mr-4 {
		margin-right: 0 !important;
		margin-left: 0.25rem !important;
		margin-left: 0.5rem !important;
		margin-left: 0.75rem !important;
		margin-left: 1rem !important;
	}
</style> 