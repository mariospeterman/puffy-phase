import { defaultLang } from '../i18n/ui';

// On static sites (GitHub Pages) we can't use request headers or cookies
// Instead, redirect directly to the default language
// The language detection will still work in the browser via client-side JS
const base = import.meta.env.BASE_URL || '';

<meta http-equiv="refresh" content={`0;url=${base}/${defaultLang}/`}>
<script define:vars={{ defaultLang, base }}>
  // Redirect to default language
  window.location.pathname = window.location.pathname
    .replace(/^\/$/, `${base}/${defaultLang}/`)
    .replace(/^\/puffy-phase\/?$/, `/puffy-phase/${defaultLang}/`);
</script> 