---
import { defaultLang } from '../i18n/ui';

// On static sites (GitHub Pages) we can't use request headers or cookies
// Instead, redirect directly to the default language
// The language detection will still work in the browser via client-side JS
const base = import.meta.env.BASE_URL || '';
const isProd = import.meta.env.PROD;
---

<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Redirecting to English version</title>
  <meta http-equiv="refresh" content="0;url=en/">
  <script>
    // Detect if we're on GitHub Pages or local
    const isGitHubPages = window.location.hostname === 'mariospeterman.github.io';
    
    if (isGitHubPages) {
      // GitHub Pages - make sure we don't create redirect loops
      const path = window.location.pathname;
      
      // Only redirect if we're at the root of /puffy-phase
      if (path === '/puffy-phase/' || path === '/puffy-phase') {
        window.location.href = '/puffy-phase/en/';
      }
    } else {
      // Local development
      window.location.href = '/en/';
    }
  </script>
</head>
<body>
  <p>Redirecting to <a href="en/">English version</a>...</p>
</body>
</html> 